using BusinessEntity;
using BusinessEntity.Other;
using BusinessInterface;
using CommonUtility;
using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;
using Newtonsoft.Json;
using System.Net;
using System.Security.Policy;
using System.Text;
using System.Text.RegularExpressions;
using System.Xml;

namespace BgManageWebApi.Controllers
{
    [Route("[controller]/[action]")]
    [ApiController]
    public class TestController : ControllerBase
    {
        private readonly ITestService _iTestService;
        public TestController(ITestService iTestService)
        {
            _iTestService = iTestService;
        }
        [HttpGet]
        public async Task<ApiResultDto> TestSave()
        {
            TestDto testEntity = new TestDto()
            {
                Name = "Test" + new Random().Next(10086),
            };
            _iTestService.Save(testEntity);
            return await ApiResult.Success("请求成功");
        }
        [HttpGet]
        public async Task<ApiResultDto> TestPost()
        {
            //string json = "[{\"name\":\"FLASHER4\",\"namespace\":\"Flasher\",\"folder\":\"\",\"type\":\"BasicFunctionBlock\",\"properties\":{\"comment\":\"Multi-purposeLEDFlasher\",\"auth\":{\"standard\":\"61499-1\",\"classification\":\"\",\"application_area\":\"\",\"function\":\"\",\"type\":\"\",\"describe\":\"\"},\"compile_information\":[],\"version_information\":[{\"organization\":\"HoloblocInc\",\"version\":\"0.3\",\"author\":\"JHC\",\"date\":\"2009-11-17\",\"note\":\"Updatedto61499-1Ed2.\"},{\"organization\":\"HoloblocInc\",\"version\":\"0.2\",\"author\":\"JHC\",\"date\":\"2006-10-25\",\"note\":\"Movedtofb.rt.doc;changedINIT:INITOtoINIT=CNF.\"},{\"organization\":\"RockwellAutomation\",\"version\":\"0.1\",\"author\":\"JHC\",\"date\":\"2004-01-05\",\"note\":\"Corrected\\\"LED1=false\\\"to\\\":=\\\"inINIT\"},{\"organization\":\"RockwellAutomation\",\"version\":\"0.0\",\"author\":\"JHC\",\"date\":\"2001-02-21\",\"note\":\"AdaptedfromFLASHER\"}]},\"interface\":{\"input_events\":[{\"key\":\"5604f9bf-97c7-45ee-aedb-bfa39ffc57e3\",\"raw_key\":\"\",\"text\":\"INIT\",\"comment\":\"InitializationRequest\",\"type\":\"EVENT\"},{\"key\":\"5298b488-e606-4896-8e1c-dd669fd0e537\",\"raw_key\":\"\",\"text\":\"REQ\",\"comment\":\"UpdateRequest\",\"type\":\"EVENT\"}],\"output_events\":[{\"key\":\"c70c92b2-ec77-4d26-81e2-01723c8db17f\",\"raw_key\":\"\",\"text\":\"CNF\",\"comment\":\"UpdateConfirmation\",\"type\":\"EVENT\"}],\"inputs\":[{\"key\":\"f920b693-13f6-4e01-9d7e-93396f550c1e\",\"text\":\"MODE\",\"comment\":\"0=FLASH_ALL,1=COUNT_UP,2=COUNT_DOWN,3=CHASE_UP,4=CHASE_DOWN\",\"type\":\"INT\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"5604f9bf-97c7-45ee-aedb-bfa39ffc57e3\",\"5298b488-e606-4896-8e1c-dd669fd0e537\"]}],\"outputs\":[{\"key\":\"0b946320-b7e4-4805-b6db-ae979af3580b\",\"text\":\"LED3\",\"comment\":\"MSB\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"]},{\"key\":\"93a7fb4d-81e1-4bf8-8eeb-a85702bf44cb\",\"text\":\"LED2\",\"comment\":\"\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"]},{\"key\":\"fe76660c-4f86-4f2a-bf01-879db4fba0a6\",\"text\":\"LED1\",\"comment\":\"\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"]},{\"key\":\"881d0246-dc13-4451-9ef7-074a0a55b0b3\",\"text\":\"LED0\",\"comment\":\"LSB\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"]}],\"internals\":[{\"key\":\"e037d13d-88a6-4371-9835-d39f43abf13f\",\"text\":\"OFLO\",\"comment\":\"\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\"}],\"temps\":[]},\"ecc\":{\"linkDataArray\":[{\"from\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"to\":\"77314ed0-a276-42e0-907b-344df8f0db49\",\"event_condition\":\"5604f9bf-97c7-45ee-aedb-bfa39ffc57e3\",\"priority\":1,\"guard_condition\":\"\",\"comment\":\"\"},{\"from\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"to\":\"ec1cf3c6-430f-40ce-bcd6-7db5eab554cd\",\"event_condition\":\"5298b488-e606-4896-8e1c-dd669fd0e537\",\"priority\":2,\"guard_condition\":\"MODE==0\",\"comment\":\"\"},{\"from\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"to\":\"217d3162-c16d-4b0d-adff-0131d7c47ba6\",\"event_condition\":\"5298b488-e606-4896-8e1c-dd669fd0e537\",\"priority\":3,\"guard_condition\":\"MODE==1\",\"comment\":\"\"},{\"from\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"to\":\"f2c23417-877f-466b-b48b-649ec740a12c\",\"event_condition\":\"5298b488-e606-4896-8e1c-dd669fd0e537\",\"priority\":4,\"guard_condition\":\"MODE==2\",\"comment\":\"\"},{\"from\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"to\":\"a0359045-874c-43cb-afbe-f0a768e0a3b3\",\"event_condition\":\"5298b488-e606-4896-8e1c-dd669fd0e537\",\"priority\":5,\"guard_condition\":\"MODE==3\",\"comment\":\"\"},{\"from\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"to\":\"8493a972-41cc-4648-944e-1d7997cc4b16\",\"event_condition\":\"5298b488-e606-4896-8e1c-dd669fd0e537\",\"priority\":6,\"guard_condition\":\"MODE==4\",\"comment\":\"\"},{\"from\":\"77314ed0-a276-42e0-907b-344df8f0db49\",\"to\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"event_condition\":\"1\",\"priority\":1,\"guard_condition\":\"\",\"comment\":\"\"},{\"from\":\"ec1cf3c6-430f-40ce-bcd6-7db5eab554cd\",\"to\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"event_condition\":\"1\",\"priority\":1,\"guard_condition\":\"\",\"comment\":\"\"},{\"from\":\"217d3162-c16d-4b0d-adff-0131d7c47ba6\",\"to\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"event_condition\":\"1\",\"priority\":1,\"guard_condition\":\"\",\"comment\":\"\"},{\"from\":\"f2c23417-877f-466b-b48b-649ec740a12c\",\"to\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"event_condition\":\"1\",\"priority\":1,\"guard_condition\":\"\",\"comment\":\"\"},{\"from\":\"a0359045-874c-43cb-afbe-f0a768e0a3b3\",\"to\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"event_condition\":\"1\",\"priority\":1,\"guard_condition\":\"\",\"comment\":\"\"},{\"from\":\"8493a972-41cc-4648-944e-1d7997cc4b16\",\"to\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"event_condition\":\"1\",\"priority\":1,\"guard_condition\":\"\",\"comment\":\"\"}],\"nodeDataArray\":[{\"key\":\"00443e1a-63ea-4ba0-b3f4-dba7bd94c84c\",\"text\":\"START\",\"comment\":\"\",\"loc\":\"-44-56\"},{\"key\":\"77314ed0-a276-42e0-907b-344df8f0db49\",\"text\":\"INIT\",\"comment\":\"\",\"table\":[{\"algorithm\":\"56da0b67-4c5d-4e93-8b72-c5f292fe22ad\",\"output_event\":\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"}],\"loc\":\"341-179\"},{\"key\":\"ec1cf3c6-430f-40ce-bcd6-7db5eab554cd\",\"text\":\"FLASH_ALL\",\"comment\":\"\",\"table\":[{\"algorithm\":\"9cd83605-dae2-4825-8397-99129d14e620\",\"output_event\":\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"}],\"loc\":\"313107\"},{\"key\":\"217d3162-c16d-4b0d-adff-0131d7c47ba6\",\"text\":\"COUNT_UP\",\"comment\":\"\",\"table\":[{\"algorithm\":\"2d7934fa-fdc3-4f31-8b9c-d2583d707ee8\",\"output_event\":\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"}],\"loc\":\"-504.4331126133\"},{\"key\":\"f2c23417-877f-466b-b48b-649ec740a12c\",\"text\":\"COUNT_DOWN\",\"comment\":\"\",\"table\":[{\"algorithm\":\"1763f4c9-6ff9-464c-8105-38aea0d851e6\",\"output_event\":\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"}],\"loc\":\"-589-220\"},{\"key\":\"a0359045-874c-43cb-afbe-f0a768e0a3b3\",\"text\":\"CHASE_UP\",\"comment\":\"\",\"table\":[{\"algorithm\":\"3a9563e3-ec17-4360-b842-ee14bd4e8d4d\",\"output_event\":\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"}],\"loc\":\"-81268\"},{\"key\":\"8493a972-41cc-4648-944e-1d7997cc4b16\",\"text\":\"CHASE_DOWN\",\"comment\":\"\",\"table\":[{\"algorithm\":\"972c8175-cecc-4b33-aa13-4c93a5ab9c52\",\"output_event\":\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"}],\"loc\":\"-138-352\"}]},\"panel\":{\"children\":null,\"data\":{\"graph\":null,\"paper\":null}},\"html\":{\"data\":\"\",\"children\":null},\"algorithms\":[{\"key\":\"1763f4c9-6ff9-464c-8105-38aea0d851e6\",\"text\":\"COUNT_DOWN\",\"comment\":\"\",\"content\":\"LED0:=NOTLED0;\\nIFLED0THEN\\n\\tLED1:=NOTLED1;\\n\\tIFLED1THEN\\n\\t\\tLED2:=NOTLED2;\\n\\t\\tIFLED2THEN\\n\\t\\t\\tLED3:=NOTLED3;\\n\\t\\tEND_IF;\\n\\tEND_IF;\\nEND_IF;\",\"type\":\"ST\",\"lines\":[{\"branches\":[{\"comps\":[]}],\"comment\":\"\"}]},{\"key\":\"972c8175-cecc-4b33-aa13-4c93a5ab9c52\",\"text\":\"CHASE_DOWN\",\"comment\":\"\",\"content\":\"IFLED0THEN\\n\\tOFLO:=true;\\nEND_IF;\\nIFLED1THEN\\n\\tLED0:=true;\\nEND_IF;\\nIFLED2THEN\\n\\tLED1;\\nEND_IF;\\nIFLED3THEN\\n\\tLED2:=true;\\nEND_IF;\\nIFOFLOTHEN\\n\\tLED3:=true;\\n\\tLED2:=false;\\n\\tLED1:=false;\\n\\tLED0:=false;\\n\\tOFLO:=false;\\nEND_IF;\\nIFNOTLED0ANDNOTLED1ANDNOTLED2ANDNOTLED3THEN\\n\\tLED3:=true;\\nEND_IF;\",\"type\":\"ST\",\"lines\":[{\"branches\":[{\"comps\":[]}],\"comment\":\"\"}]},{\"key\":\"9cd83605-dae2-4825-8397-99129d14e620\",\"text\":\"FLASH_ALL\",\"comment\":\"\",\"content\":\"IFNOTLED0THEN\\n\\tLED0:=true;\\nELSE\\n\\tLED0:=false;\\nEND_IF;\\nIFNOTLED1THEN\\n\\tLED1:=true;\\nELSE\\n\\tLED1:=false;\\nEND_IF;\\nIFNOTLED2THEN\\n\\tLED2:=true;\\nELSE\\n\\tLED2:=false;\\nEND_IF;\\nIFNOTLED3THEN\\n\\tLED3:=true;\\nELSE\\n\\tLED3:=false;\\nEND_IF;\",\"type\":\"ST\",\"lines\":[{\"branches\":[{\"comps\":[]}],\"comment\":\"\"}]},{\"key\":\"2d7934fa-fdc3-4f31-8b9c-d2583d707ee8\",\"text\":\"COUNT_UP\",\"comment\":\"\",\"content\":\"LED0:=NOTLED0;\\nIFNOTLED0THEN\\n\\tLED1:=NOTLED1;\\n\\tIFNOTLED1THEN\\n\\t\\tLED2:=NOTLED2;\\n\\t\\tIFNOTLED2THEN\\n\\t\\t\\tLED3:=NOTLED3;\\n\\t\\tEND_IF;\\n\\tEND_IF;\\nEND_IF;\",\"type\":\"ST\",\"lines\":[{\"branches\":[{\"comps\":[]}],\"comment\":\"\"}]},{\"key\":\"56da0b67-4c5d-4e93-8b72-c5f292fe22ad\",\"text\":\"INIT\",\"comment\":\"\",\"content\":\"LED0:=false;\\nLED1:=false;\\nLED2:=false;\\nLED3:=false;\",\"type\":\"ST\",\"lines\":[{\"branches\":[{\"comps\":[]}],\"comment\":\"\"}]},{\"key\":\"3a9563e3-ec17-4360-b842-ee14bd4e8d4d\",\"text\":\"CHASE_UP\",\"comment\":\"\",\"content\":\"IFLED3THEN\\n\\tOFLO:=true;\\nEND_IF;\\nIFLED2THEN\\n\\tLED3:=true;\\nEND_IF;\\nIFLED1THEN\\n\\tLED2:=true;\\nEND_IF;\\nIFLED0THEN\\n\\tLED1:=true;\\nEND_IF;\\nIFOFLOTHEN\\n\\tLED0:=true;\\n\\tLED1:=false;\\n\\tLED2:=false;\\n\\tLED3:=false;\\n\\tOFLO:=false;\\nEND_IF;\\nIFNOTLED0ANDNOTLED1ANDNOTLED2ANDNOTLED3THEN\\n\\tLED0:=true;\\nEND_IF;\\n\",\"type\":\"ST\",\"lines\":[{\"branches\":[{\"comps\":[]}],\"comment\":\"\"}]}],\"id\":\"3c5b7e6c-b79d-440f-8c0b-b486a269ec3f\",\"dynamic\":false,\"lock\":false,\"updated_time\":1709523639000},null,{\"name\":\"Flasher_Panel\",\"namespace\":\"Flasher\",\"folder\":\"\",\"type\":\"HMI\",\"properties\":{\"comment\":\"HMIPanelType\",\"auth\":{\"standard\":\"61499-2\",\"classification\":\"\",\"application_area\":\"\",\"function\":\"\",\"type\":\"\",\"describe\":\"\"},\"compile_information\":[],\"version_information\":[{\"organization\":\"YYAutomation\",\"version\":\"0.1\",\"author\":\"WD\",\"date\":\"2014-08-21\",\"note\":\"\"}]},\"interface\":{\"input_events\":[{\"key\":\"f8fa3657-35e1-45f4-86ef-494892045626\",\"raw_key\":\"\",\"text\":\"RES\",\"comment\":\"ServiceRequest\",\"type\":\"EVENT\"}],\"output_events\":[{\"key\":\"ef1c63ed-b27b-4415-84fa-490adec2f950\",\"raw_key\":\"\",\"text\":\"INIT\",\"comment\":\"InitializationConfirm\",\"type\":\"EVENT\"},{\"key\":\"1db9dd2d-f6e7-4faf-a223-1151da6ea26e\",\"raw_key\":\"\",\"text\":\"REQ\",\"comment\":\"ConfirmationofRequestedService\",\"type\":\"EVENT\"}],\"inputs\":[{\"key\":\"674d5236-1b22-4277-9987-b89ec0749803\",\"text\":\"LED0\",\"comment\":\"EventInputQualifier\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"f8fa3657-35e1-45f4-86ef-494892045626\"]},{\"key\":\"6ebbeb35-31f9-4702-8d78-92b8cf1094e5\",\"text\":\"LED1\",\"comment\":\"\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"f8fa3657-35e1-45f4-86ef-494892045626\"]},{\"key\":\"6bca68f3-f43b-4e99-b9c4-5f64a5df4e79\",\"text\":\"LED2\",\"comment\":\"\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"f8fa3657-35e1-45f4-86ef-494892045626\"]},{\"key\":\"49917ce9-9c28-4634-ad06-e94f6b5d5a4f\",\"text\":\"LED3\",\"comment\":\"\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"f8fa3657-35e1-45f4-86ef-494892045626\"]}],\"outputs\":[{\"key\":\"23144a09-c41c-4797-b28a-d9a3f905e044\",\"text\":\"Mode\",\"comment\":\"EventOutputQualifier\",\"type\":\"INT\",\"initVals\":\"0\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"ef1c63ed-b27b-4415-84fa-490adec2f950\",\"1db9dd2d-f6e7-4faf-a223-1151da6ea26e\"]}]},\"mapping\":[{\"mappingName\":\"\",\"variableName\":\"674d5236-1b22-4277-9987-b89ec0749803\",\"initialValue\":\"\",\"triggerCondition\":\"\",\"mappingValue\":\"#24bf4e\",\"triggerValue\":\"1\"},{\"mappingName\":\"\",\"variableName\":\"6ebbeb35-31f9-4702-8d78-92b8cf1094e5\",\"initialValue\":\"\",\"triggerCondition\":\"\",\"mappingValue\":\"#24bf4e\",\"triggerValue\":\"1\"},{\"mappingName\":\"\",\"variableName\":\"6bca68f3-f43b-4e99-b9c4-5f64a5df4e79\",\"initialValue\":\"\",\"triggerCondition\":\"\",\"mappingValue\":\"#24bf4e\",\"triggerValue\":\"1\"},{\"mappingName\":\"\",\"variableName\":\"49917ce9-9c28-4634-ad06-e94f6b5d5a4f\",\"initialValue\":\"\",\"triggerCondition\":\"\",\"mappingValue\":\"#24bf4e\",\"triggerValue\":\"1\"}],\"panel\":{\"children\":[],\"data\":{\"graph\":{\"cells\":[{\"angle\":0,\"attrs\":{},\"bind\":{\"event\":\"REQ\",\"onChange\":\"Mode\"},\"color\":\"black\",\"fontSize\":14,\"id\":\"ce971386-b951-4e73-b02f-5efd49507b2a\",\"position\":{\"x\":210,\"y\":125},\"size\":{\"height\":30,\"width\":90},\"type\":\"app.Input\",\"value\":\"\",\"z\":5},{\"angle\":0,\"attrs\":{\"bind\":{\"attrs.body.fill\":\"LED0\"},\"body\":{\"fill\":\"#caddca\",\"rx\":9999,\"ry\":9999,\"stroke\":\"#222138\"},\"label\":{\"fontWeight\":300,\"stroke\":\"#ffffff\",\"text\":\"LED0\"}},\"fills\":[],\"id\":\"6fe8d8df-773d-4038-8423-45515e36a39c\",\"position\":{\"x\":65,\"y\":45},\"size\":{\"height\":50,\"width\":50},\"type\":\"app.Light\",\"z\":7},{\"angle\":0,\"attrs\":{\"bind\":{\"attrs.body.fill\":\"LED1\"},\"body\":{\"fill\":\"#dae2da\",\"rx\":9999,\"ry\":9999,\"stroke\":\"#222138\"},\"label\":{\"fontWeight\":300,\"stroke\":\"#ffffff\",\"text\":\"LED1\"}},\"fills\":[],\"id\":\"10cd03d2-dcb2-4c18-91fa-7f6f77462c1d\",\"position\":{\"x\":145,\"y\":45},\"size\":{\"height\":50,\"width\":50},\"type\":\"app.Light\",\"z\":8},{\"angle\":0,\"attrs\":{\"bind\":{\"attrs.body.fill\":\"LED2\"},\"body\":{\"fill\":\"#c5d3c5\",\"rx\":9999,\"ry\":9999,\"stroke\":\"#222138\"},\"label\":{\"fontWeight\":300,\"stroke\":\"#ffffff\",\"text\":\"LED2\"}},\"fills\":[],\"id\":\"8af71169-e624-44df-8b74-1a1248e74b28\",\"position\":{\"x\":230,\"y\":45},\"size\":{\"height\":50,\"width\":50},\"type\":\"app.Light\",\"z\":9},{\"angle\":0,\"attrs\":{\"bind\":{\"attrs.body.fill\":\"LED3\"},\"body\":{\"fill\":\"#bfd9bf\",\"rx\":9999,\"ry\":9999,\"stroke\":\"#222138\"},\"label\":{\"fontWeight\":300,\"stroke\":\"#ffffff\",\"text\":\"LED3\"}},\"fills\":[],\"id\":\"d860af6b-7301-4519-810f-43c7d123a913\",\"position\":{\"x\":315,\"y\":45},\"size\":{\"height\":50,\"width\":50},\"type\":\"app.Light\",\"z\":10},{\"angle\":0,\"attrs\":{},\"background\":\"#e15656\",\"bind\":{\"onClick\":\"INIT\"},\"id\":\"bbe32041-28d7-4944-8787-fa4fd7d0afd1\",\"position\":{\"x\":410,\"y\":45},\"size\":{\"height\":50,\"width\":50},\"text\":\"Init\",\"type\":\"app.LightButton\",\"z\":11},{\"angle\":0,\"attrs\":{\"body\":{\"strokeWidth\":0},\"label\":{\"text\":\"RunningMode(0-ALL,1-CountUp,2-CountDown,3-ChaseUp,4-ChaseDown)\"}},\"id\":\"ae416490-bc40-4a10-be19-a82b639706d1\",\"position\":{\"x\":45,\"y\":185},\"size\":{\"height\":35,\"width\":560},\"type\":\"app.TextBlock\",\"z\":12}]},\"paper\":{\"background\":false,\"height\":600,\"width\":800}}},\"html\":{\"data\":\"\",\"children\":[]},\"id\":\"3a2d92e3-ca2d-4208-bb13-01bcb8e03a2a\",\"dynamic\":false,\"lock\":false,\"updated_time\":1709523639000},{\"name\":\"Flasher_Test\",\"namespace\":\"Flasher\",\"folder\":\"\",\"type\":\"SystemConfiguration\",\"properties\":{\"comment\":\"SystemConfiguration\",\"auth\":{\"standard\":\"61499-1\",\"classification\":\"\",\"application_area\":\"\",\"function\":\"\",\"type\":\"\",\"describe\":\"\"},\"version_information\":[{\"organization\":\"YYAutomation\",\"version\":\"0.1\",\"author\":\"WD\",\"date\":\"2014-04-28\",\"note\":\"\"}]},\"panel\":{\"children\":null,\"data\":{\"graph\":null,\"paper\":null}},\"html\":{\"data\":\"\",\"children\":null},\"deployment\":{\"devices\":[{\"src\":\"devices/ipc_win.png\",\"dev_type\":\"FBSRT_WIN32\",\"loc\":\"37109\",\"key\":\"cc83b2fe-f8d2-4804-9ffe-a98f1e196c92\",\"text\":\"DEV1\",\"ip\":\"127.0.0.1\",\"stream\":\"8081\",\"resources\":[{\"key\":\"686a88e7-032e-43d2-9030-1669f29c150e\",\"text\":\"RES1\",\"type\":\"EMB_RES\",\"port\":\"1\",\"color\":\"#009688\",\"thread\":\"1\",\"cycle\":\"\",\"priority\":0,\"timeout\":\"\",\"powerOffHoldData\":null,\"databases\":[],\"roles\":null,\"config\":null,\"order\":null,\"slaveID\":\"\",\"vars\":null},{\"key\":\"9822925d-f944-4dc3-ae22-67146f591278\",\"text\":\"RESH\",\"type\":\"HMI_RES\",\"port\":\"8080\",\"color\":\"#009688\",\"thread\":\"\",\"cycle\":\"1000\",\"priority\":0,\"timeout\":\"\",\"powerOffHoldData\":null,\"databases\":[],\"roles\":[{\"key\":\"08e23c81-e3ee-42f7-917c-c326d6d06e2f\",\"username\":\"test\",\"password\":\"test\",\"role\":\"1\"}],\"config\":null,\"order\":null,\"slaveID\":\"\",\"vars\":null},{\"key\":\"0186b3ec-3232-4148-b674-e47ba904a585\",\"text\":\"RESD\",\"type\":\"DATA_RES\",\"port\":\"8082\",\"color\":\"#009688\",\"thread\":\"\",\"cycle\":\"1000\",\"priority\":0,\"timeout\":\"\",\"powerOffHoldData\":null,\"databases\":[],\"roles\":null,\"config\":null,\"order\":null,\"slaveID\":\"\",\"vars\":null}],\"adapter\":\"\",\"device_type\":\"\",\"rack\":\"\",\"slot\":\"\",\"slaveID\":\"\",\"timeout\":\"\",\"srcPort\":\"\",\"mode\":\"\",\"progID\":\"\",\"contentType\":\"\",\"topic\":\"\",\"username\":\"\",\"password\":\"\",\"path\":\"\",\"startBit\":\"\",\"dynamic\":[],\"module\":[],\"io_resource\":\"\"}],\"target_devices\":[],\"segments\":[{\"category\":\"segment\",\"color\":\"#4CAF50\",\"size\":\"2006\",\"type\":\"ETHERNET\",\"loc\":\"00\",\"key\":\"fabeedb0-f17f-42d2-9059-9a87a79ce5ab\",\"text\":\"Seg0\",\"timeout\":\"\",\"path\":\"\",\"username\":\"\",\"password\":\"\",\"topic\":\"\",\"maxretry\":\"\",\"ip\":\"\",\"port\":\"\",\"scan_time\":\"\",\"cycleTime\":\"\",\"serialPort\":\"\",\"baudrate\":\"\",\"parity\":\"\",\"databit\":\"\",\"stopbit\":\"\",\"status\":\"\",\"maxNode\":\"\",\"auto_start\":false,\"target_resources\":\"\",\"adapter\":\"\",\"inSize\":\"\",\"outSize\":\"\",\"sendInterval\":\"\",\"checksum\":false,\"checkReadType\":\"\",\"checkReadBeginIndex\":\"\",\"checkReadLastIndex\":\"\",\"checkReadInsertIndex\":\"\",\"checkWriteType\":\"\",\"checkWriteBeginIndex\":\"\",\"checkWriteLastIndex\":\"\",\"checkWriteInsertIndex\":\"\",\"DeviceName\":\"\",\"CANID\":\"\",\"RestartTime\":\"\",\"SetBaudrateMode\":\"\",\"CANBaudRate\":\"\",\"CANSamplePoint\":\"\",\"CANFDBaudRate\":\"\",\"CANFDSamplePoint\":\"\",\"Bittiming\":\"\",\"CanFDMode\":\"\",\"OnlySend\":\"\",\"ErrorFrameFilterMode\":\"\",\"ErrorFrameFilterMask\":\"\",\"NomalFrameFilterMode\":\"\",\"NomalFrameFilterIDMask\":\"\",\"readByteOrder\":\"\",\"writeByteOrder\":\"\"}],\"comments\":[],\"linkDataArray\":[{\"from\":\"fabeedb0-f17f-42d2-9059-9a87a79ce5ab\",\"to\":\"cc83b2fe-f8d2-4804-9ffe-a98f1e196c92\"}]},\"applications\":[{\"text\":\"Application1\",\"comment\":\"\",\"fbbs\":[{\"FBB\":\"FB2\",\"raw_id\":\"3c5b7e6c-b79d-440f-8c0b-b486a269ec3f\",\"interface\":{\"input_events\":[{\"key\":\"5604f9bf-97c7-45ee-aedb-bfa39ffc57e3\",\"raw_key\":\"\",\"text\":\"INIT\",\"comment\":\"InitializationRequest\",\"type\":\"EVENT\",\"__gohashid\":96577},{\"key\":\"5298b488-e606-4896-8e1c-dd669fd0e537\",\"raw_key\":\"\",\"text\":\"REQ\",\"comment\":\"UpdateRequest\",\"type\":\"EVENT\",\"__gohashid\":96582}],\"output_events\":[{\"key\":\"c70c92b2-ec77-4d26-81e2-01723c8db17f\",\"raw_key\":\"\",\"text\":\"CNF\",\"comment\":\"UpdateConfirmation\",\"type\":\"EVENT\",\"__gohashid\":96589}],\"inputs\":[{\"key\":\"f920b693-13f6-4e01-9d7e-93396f550c1e\",\"text\":\"MODE\",\"comment\":\"0=FLASH_ALL,1=COUNT_UP,2=COUNT_DOWN,3=CHASE_UP,4=CHASE_DOWN\",\"type\":\"INT\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"5604f9bf-97c7-45ee-aedb-bfa39ffc57e3\",\"5298b488-e606-4896-8e1c-dd669fd0e537\"],\"OPC_UA\":\"0\",\"__gohashid\":96600}],\"outputs\":[{\"key\":\"0b946320-b7e4-4805-b6db-ae979af3580b\",\"text\":\"LED3\",\"comment\":\"MSB\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"],\"OPC_UA\":\"0\",\"__gohashid\":96612},{\"key\":\"93a7fb4d-81e1-4bf8-8eeb-a85702bf44cb\",\"text\":\"LED2\",\"comment\":\"\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"],\"OPC_UA\":\"0\",\"__gohashid\":96617},{\"key\":\"fe76660c-4f86-4f2a-bf01-879db4fba0a6\",\"text\":\"LED1\",\"comment\":\"\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"],\"OPC_UA\":\"0\",\"__gohashid\":96622},{\"key\":\"881d0246-dc13-4451-9ef7-074a0a55b0b3\",\"text\":\"LED0\",\"comment\":\"LSB\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"c70c92b2-ec77-4d26-81e2-01723c8db17f\"],\"OPC_UA\":\"0\",\"__gohashid\":96627}],\"internals\":[{\"key\":\"e037d13d-88a6-4371-9835-d39f43abf13f\",\"text\":\"OFLO\",\"comment\":\"\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\"}],\"temps\":[]},\"name\":\"FLASHER4\",\"namespace\":\"Flasher\",\"type\":\"BasicFunctionBlock\",\"loc\":\"61655\",\"resource\":\"686a88e7-032e-43d2-9030-1669f29c150e\",\"key\":-3,\"version\":\"0.3\",\"isGroup\":true,\"fb_type\":\"\",\"screen\":\"\",\"category\":\"node_group\",\"target\":\"\",\"vars\":null,\"__gohashid\":96479},{\"FBB\":\"FB1\",\"raw_id\":\"d422380b-c1dd-4044-9a4c-4023670a732c\",\"interface\":{\"input_events\":[{\"key\":\"e07fa0c7-12ed-45df-a5f4-3d9b0a948bbe\",\"raw_key\":\"\",\"text\":\"START\",\"comment\":\"ServiceInitialization\",\"type\":\"EVENT\",\"__gohashid\":96691},{\"key\":\"136bf4d9-f5f0-4bdc-b8c5-c09fcb68dea4\",\"raw_key\":\"\",\"text\":\"STOP\",\"comment\":\"ServiceRequest\",\"type\":\"EVENT\",\"__gohashid\":96696}],\"output_events\":[{\"key\":\"338bfea2-bce3-4c11-a4e7-b5b38c2288df\",\"raw_key\":\"\",\"text\":\"EO\",\"comment\":\"InitializationConfirm\",\"type\":\"EVENT\",\"__gohashid\":96703}],\"inputs\":[{\"key\":\"23957b24-6905-437a-9a23-775d225f4598\",\"text\":\"DT\",\"comment\":\"EventInputQualifier\",\"type\":\"\",\"initVals\":\"35\",\"max\":\"1000\",\"min\":\"0\",\"step\":\"1\",\"arrayLength\":\"1\",\"relatedEvents\":[\"e07fa0c7-12ed-45df-a5f4-3d9b0a948bbe\"],\"OPC_UA\":\"0\",\"__gohashid\":96714}],\"outputs\":[]},\"name\":\"E_CYCLE\",\"namespace\":\"FBLIB.EVENT\",\"type\":\"SimpleFunctionBlock\",\"loc\":\"403.87571\",\"resource\":\"686a88e7-032e-43d2-9030-1669f29c150e\",\"key\":-5,\"version\":\"0.2\",\"isGroup\":true,\"fb_type\":\"\",\"screen\":\"\",\"category\":\"node_group\",\"target\":\"\",\"vars\":null,\"__gohashid\":96480},{\"FBB\":\"FB4\",\"raw_id\":\"3a2d92e3-ca2d-4208-bb13-01bcb8e03a2a\",\"interface\":{\"input_events\":[{\"key\":\"f8fa3657-35e1-45f4-86ef-494892045626\",\"raw_key\":\"\",\"text\":\"RES\",\"comment\":\"ServiceRequest\",\"type\":\"EVENT\",\"__gohashid\":96784}],\"output_events\":[{\"key\":\"ef1c63ed-b27b-4415-84fa-490adec2f950\",\"raw_key\":\"\",\"text\":\"INIT\",\"comment\":\"InitializationConfirm\",\"type\":\"EVENT\",\"__gohashid\":96791},{\"key\":\"1db9dd2d-f6e7-4faf-a223-1151da6ea26e\",\"raw_key\":\"\",\"text\":\"REQ\",\"comment\":\"ConfirmationofRequestedService\",\"type\":\"EVENT\",\"__gohashid\":96796}],\"inputs\":[{\"key\":\"674d5236-1b22-4277-9987-b89ec0749803\",\"text\":\"LED0\",\"comment\":\"EventInputQualifier\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"f8fa3657-35e1-45f4-86ef-494892045626\"],\"OPC_UA\":\"0\",\"__gohashid\":96807},{\"key\":\"6ebbeb35-31f9-4702-8d78-92b8cf1094e5\",\"text\":\"LED1\",\"comment\":\"\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"f8fa3657-35e1-45f4-86ef-494892045626\"],\"OPC_UA\":\"0\",\"__gohashid\":96815},{\"key\":\"6bca68f3-f43b-4e99-b9c4-5f64a5df4e79\",\"text\":\"LED2\",\"comment\":\"\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"f8fa3657-35e1-45f4-86ef-494892045626\"],\"OPC_UA\":\"0\",\"__gohashid\":96823},{\"key\":\"49917ce9-9c28-4634-ad06-e94f6b5d5a4f\",\"text\":\"LED3\",\"comment\":\"\",\"type\":\"BOOL\",\"initVals\":\"\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"f8fa3657-35e1-45f4-86ef-494892045626\"],\"OPC_UA\":\"0\",\"__gohashid\":96831}],\"outputs\":[{\"key\":\"23144a09-c41c-4797-b28a-d9a3f905e044\",\"text\":\"Mode\",\"comment\":\"EventOutputQualifier\",\"type\":\"INT\",\"initVals\":\"0\",\"max\":\"\",\"min\":\"\",\"step\":\"\",\"arrayLength\":\"1\",\"relatedEvents\":[\"ef1c63ed-b27b-4415-84fa-490adec2f950\",\"1db9dd2d-f6e7-4faf-a223-1151da6ea26e\"],\"OPC_UA\":\"0\",\"__gohashid\":96855}]},\"name\":\"Flasher_Panel\",\"namespace\":\"Flasher\",\"type\":\"HMI\",\"loc\":\"884.37556\",\"resource\":\"686a88e7-032e-43d2-9030-1669f29c150e\",\"key\":-7,\"version\":\"0.1\",\"isGroup\":true,\"fb_type\":\"\",\"screen\":\"Screen1\",\"category\":\"node_group\",\"target\":\"\",\"vars\":null,\"__gohashid\":96481}],\"dots\":[{\"text\":\"T#1s\",\"category\":\"constant\",\"loc\":\"313.375208.97265625\",\"key\":-6,\"group\":-5,\"__gohashid\":96482}],\"linkDataArray\":[{\"from\":-6,\"fp\":-6,\"points\":{\"__gohashid\":96484,\"_isFrozen\":true,\"s\":[{\"x\":363.375,\"y\":216.825146484375,\"_isFrozen\":true},{\"x\":373.375,\"y\":216.825146484375,\"_isFrozen\":true},{\"x\":384.375,\"y\":216.825146484375,\"_isFrozen\":true},{\"x\":384.375,\"y\":221.825146484375,\"_isFrozen\":true},{\"x\":395.375,\"y\":221.825146484375,\"_isFrozen\":true},{\"x\":405.375,\"y\":221.825146484375,\"_isFrozen\":true}],\"Ia\":6,\"Pa\":null,\"yg\":null},\"to\":-5,\"tp\":\"23957b24-6905-437a-9a23-775d225f4598\",\"group\":-5,\"priority\":0,\"selectable\":false,\"key\":-1,\"__gohashid\":96494},{\"from\":-5,\"fp\":\"338bfea2-bce3-4c11-a4e7-b5b38c2288df\",\"points\":{\"__gohashid\":96485,\"_isFrozen\":true,\"s\":[{\"x\":499.11279296875,\"y\":99.067919921875,\"_isFrozen\":true},{\"x\":509.11279296875,\"y\":99.067919921875,\"_isFrozen\":true},{\"x\":558.306396484375,\"y\":99.067919921875,\"_isFrozen\":true},{\"x\":558.306396484375,\"y\":100.446533203125,\"_isFrozen\":true},{\"x\":607.5,\"y\":100.446533203125,\"_isFrozen\":true},{\"x\":617.5,\"y\":100.446533203125,\"_isFrozen\":true}],\"Ia\":6,\"Pa\":null,\"yg\":null},\"to\":-3,\"tp\":\"5298b488-e606-4896-8e1c-dd669fd0e537\",\"priority\":1,\"key\":-2,\"__gohashid\":96495},{\"from\":-7,\"fp\":\"1db9dd2d-f6e7-4faf-a223-1151da6ea26e\",\"points\":{\"__gohashid\":96486,\"_isFrozen\":true,\"s\":[{\"x\":990.841796875,\"y\":101.446533203125,\"_isFrozen\":true},{\"x\":1000.841796875,\"y\":101.446533203125,\"_isFrozen\":true},{\"x\":1000.841796875,\"y\":48,\"_isFrozen\":true},{\"x\":395.375,\"y\":48,\"_isFrozen\":true},{\"x\":395.375,\"y\":99.067919921875,\"_isFrozen\":true},{\"x\":405.375,\"y\":99.067919921875,\"_isFrozen\":true}],\"Ia\":6,\"Pa\":null,\"yg\":null},\"to\":-5,\"tp\":\"e07fa0c7-12ed-45df-a5f4-3d9b0a948bbe\",\"priority\":1,\"key\":-3,\"__gohashid\":96496},{\"from\":-7,\"fp\":\"ef1c63ed-b27b-4415-84fa-490adec2f950\",\"points\":{\"__gohashid\":96487,\"_isFrozen\":true,\"s\":[{\"x\":990.841796875,\"y\":84.067919921875,\"_isFrozen\":true},{\"x\":1000.841796875,\"y\":84.067919921875,\"_isFrozen\":true},{\"x\":1000.841796875,\"y\":307.01445312500005,\"_isFrozen\":true},{\"x\":395.375,\"y\":307.01445312500005,\"_isFrozen\":true},{\"x\":395.375,\"y\":116.446533203125,\"_isFrozen\":true},{\"x\":405.375,\"y\":116.446533203125,\"_isFrozen\":true}],\"Ia\":6,\"Pa\":null,\"yg\":null},\"to\":-5,\"tp\":\"136bf4d9-f5f0-4bdc-b8c5-c09fcb68dea4\",\"priority\":1,\"key\":-4,\"__gohashid\":96497},{\"from\":-3,\"fp\":\"c70c92b2-ec77-4d26-81e2-01723c8db17f\",\"points\":{\"__gohashid\":96488,\"_isFrozen\":true,\"s\":[{\"x\":726.07861328125,\"y\":83.067919921875,\"_isFrozen\":true},{\"x\":736.07861328125,\"y\":83.067919921875,\"_isFrozen\":true},{\"x\":805.976806640625,\"y\":83.067919921875,\"_isFrozen\":true},{\"x\":805.976806640625,\"y\":84.067919921875,\"_isFrozen\":true},{\"x\":875.875,\"y\":84.067919921875,\"_isFrozen\":true},{\"x\":885.875,\"y\":84.067919921875,\"_isFrozen\":true}],\"Ia\":6,\"Pa\":null,\"yg\":null},\"to\":-7,\"tp\":\"f8fa3657-35e1-45f4-86ef-494892045626\",\"priority\":1,\"key\":-5,\"__gohashid\":96498},{\"from\":-3,\"fp\":\"0b946320-b7e4-4805-b6db-ae979af3580b\",\"points\":{\"__gohashid\":96489,\"_isFrozen\":true,\"s\":[{\"x\":726.07861328125,\"y\":205.825146484375,\"_isFrozen\":true},{\"x\":736.07861328125,\"y\":205.825146484375,\"_isFrozen\":true},{\"x\":805.976806640625,\"y\":205.825146484375,\"_isFrozen\":true},{\"x\":805.976806640625,\"y\":258.96098632812505,\"_isFrozen\":true},{\"x\":875.875,\"y\":258.96098632812505,\"_isFrozen\":true},{\"x\":885.875,\"y\":258.96098632812505,\"_isFrozen\":true}],\"Ia\":6,\"Pa\":null,\"yg\":null},\"to\":-7,\"tp\":\"49917ce9-9c28-4634-ad06-e94f6b5d5a4f\",\"priority\":0,\"key\":-6,\"__gohashid\":96499},{\"from\":-3,\"fp\":\"93a7fb4d-81e1-4bf8-8eeb-a85702bf44cb\",\"points\":{\"__gohashid\":96490,\"_isFrozen\":true,\"s\":[{\"x\":726.07861328125,\"y\":223.20375976562502,\"_isFrozen\":true},{\"x\":736.07861328125,\"y\":223.20375976562502,\"_isFrozen\":true},{\"x\":805.976806640625,\"y\":223.20375976562502,\"_isFrozen\":true},{\"x\":805.976806640625,\"y\":241.582373046875,\"_isFrozen\":true},{\"x\":875.875,\"y\":241.582373046875,\"_isFrozen\":true},{\"x\":885.875,\"y\":241.582373046875,\"_isFrozen\":true}],\"Ia\":6,\"Pa\":null,\"yg\":null},\"to\":-7,\"tp\":\"6bca68f3-f43b-4e99-b9c4-5f64a5df4e79\",\"priority\":0,\"key\":-7,\"__gohashid\":96500},{\"from\":-3,\"fp\":\"fe76660c-4f86-4f2a-bf01-879db4fba0a6\",\"points\":{\"__gohashid\":96491,\"_isFrozen\":true,\"s\":[{\"x\":726.07861328125,\"y\":240.582373046875,\"_isFrozen\":true},{\"x\":736.07861328125,\"y\":240.582373046875,\"_isFrozen\":true},{\"x\":805.976806640625,\"y\":240.582373046875,\"_isFrozen\":true},{\"x\":805.976806640625,\"y\":224.20375976562502,\"_isFrozen\":true},{\"x\":875.875,\"y\":224.20375976562502,\"_isFrozen\":true},{\"x\":885.875,\"y\":224.20375976562502,\"_isFrozen\":true}],\"Ia\":6,\"Pa\":null,\"yg\":null},\"to\":-7,\"tp\":\"6ebbeb35-31f9-4702-8d78-92b8cf1094e5\",\"priority\":0,\"key\":-8,\"__gohashid\":96501},{\"from\":-3,\"fp\":\"881d0246-dc13-4451-9ef7-074a0a55b0b3\",\"points\":{\"__gohashid\":96492,\"_isFrozen\":true,\"s\":[{\"x\":726.07861328125,\"y\":257.96098632812505,\"_isFrozen\":true},{\"x\":736.07861328125,\"y\":257.96098632812505,\"_isFrozen\":true},{\"x\":805.976806640625,\"y\":257.96098632812505,\"_isFrozen\":true},{\"x\":805.976806640625,\"y\":206.825146484375,\"_isFrozen\":true},{\"x\":875.875,\"y\":206.825146484375,\"_isFrozen\":true},{\"x\":885.875,\"y\":206.825146484375,\"_isFrozen\":true}],\"Ia\":6,\"Pa\":null,\"yg\":null},\"to\":-7,\"tp\":\"674d5236-1b22-4277-9987-b89ec0749803\",\"priority\":0,\"key\":-9,\"__gohashid\":96502},{\"from\":-7,\"fp\":\"23144a09-c41c-4797-b28a-d9a3f905e044\",\"points\":{\"__gohashid\":96493,\"_isFrozen\":true,\"s\":[{\"x\":990.841796875,\"y\":206.825146484375,\"_isFrozen\":true},{\"x\":1000.841796875,\"y\":206.825146484375,\"_isFrozen\":true},{\"x\":1000.841796875,\"y\":47,\"_isFrozen\":true},{\"x\":607.5,\"y\":47,\"_isFrozen\":true},{\"x\":607.5,\"y\":205.825146484375,\"_isFrozen\":true},{\"x\":617.5,\"y\":205.825146484375,\"_isFrozen\":true}],\"Ia\":6,\"Pa\":null,\"yg\":null},\"to\":-3,\"tp\":\"f920b693-13f6-4e01-9d7e-93396f550c1e\",\"priority\":0,\"key\":-10,\"__gohashid\":96503}],\"key\":\"6b7e4dfa-6dd4-4f34-a709-da26d2855438\",\"comments\":[]}],\"collections\":{},\"canvas\":[],\"id\":\"7abe325a-d895-45d7-bc8a-356399abe0d1\",\"dynamic\":false,\"lock\":false,\"updated_time\":1709787895000}]";
            //string json = "[{ \"ID\": \"1\", \"NAME\": \"aaa\", \"CREATETIME\": \"1988-07-01\" }]";

            string json = "{\"Name\": \"Flasher_Test\",  \"Type\": \"SystemConfiguration\",\"Namespace\": \"Flasher\",\"target\":\"all\"}";
            StringContent content = new StringContent(json);
            //content.Headers.ContentType = new System.Net.Http.Headers.MediaTypeHeaderValue("application/json"); //application / json
            content.Headers.ContentType = new System.Net.Http.Headers.MediaTypeHeaderValue("application/x-www-form-urlencoded"); //application / json
            var s = await new WebDataAccess().PostDatas("/compile", content);
            await Console.Out.WriteLineAsync($"返回结果：{s}");
            return await ApiResult.Success("请求成功");
        }

        [HttpGet]
        public async Task<ApiResultDto> TestXml()
        {
            string xml2 = "<DeviceType Name=\"AB_COMPACTLOGIX\" Namespace=\"RockwellAutomation\" Icon=\"AB_COMPACTLOGIX.png\" Type=\"target_device\" User=\"admin\" ID=\"fd1586cf-6126-4938-a681-3dfbdfb2727d\" Category=\"1\" Origin=\"true\" Comment=\"\"><Identification></Identification><VersionInfo Organization=\"YYAUTO\" Version=\"1\" Author=\"WD\" Date=\"2008-01-01\" Remarks=\"\"></VersionInfo><VarDeclaration Name=\"Address\" Type=\"WSTRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"Address\"></VarDeclaration><VarDeclaration Name=\"Path\" Type=\"WSTRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration><VarDeclaration Name=\"Slot\" Type=\"DINT\" ArraySize=\"1\" InitialValue=\"0\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration><VarDeclaration Name=\"TargetDeviceType\" Type=\"WSTRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"0\" VarType=\"\" Comment=\"\"></VarDeclaration><ResourceTypeName Name=\"DataTable\"><VarDeclaration Name=\"Address\" Type=\"STRING\" ArraySize=\"\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration><VarDeclaration Name=\"Type\" Type=\"STRING\" ArraySize=\"\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"Input/Output/InOut\"></VarDeclaration><VarDeclaration Name=\"DataType\" Type=\"STRING\" ArraySize=\"\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"SINT/INT/DINT/LINT/USINT/UINT/UDINT/ULINT/BOOL/REAL/LREAL/WSTRING/UDT\"></VarDeclaration><VarDeclaration Name=\"Arraysize\" Type=\"DINT\" ArraySize=\"\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration><VarDeclaration Name=\"VariableName\" Type=\"STRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration><VarDeclaration Name=\"Comment\" Type=\"STRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration></ResourceTypeName><ModuleTypeName></ModuleTypeName></DeviceType>";
            string xml = "<DeviceType Name=\"MODBUSTCP_IO\" Namespace=\"GenericDevice\" Icon=\"MODBUSTCP_IO.png\" Type=\"target_device\" User=\"admin\" ID=\"a597d035-05fa-4495-9fa0-c9777ce9a39f\" Category=\"1\" Origin=\"true\" Comment=\"\"><Identification></Identification><VersionInfo Organization=\"YYAUTO\" Version=\"1\" Author=\"WD\" Date=\"2008-01-01\" Remarks=\"\"></VersionInfo><VarDeclaration Name=\"IP\" Type=\"WSTRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"Address\"></VarDeclaration><VarDeclaration Name=\"Port\" Type=\"DINT\" ArraySize=\"1\" InitialValue=\"502\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"Port\"></VarDeclaration><VarDeclaration Name=\"SlaveID\" Type=\"DINT\" ArraySize=\"1\" InitialValue=\"1\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration><VarDeclaration Name=\"StartBit\" Type=\"DINT\" ArraySize=\"1\" InitialValue=\"1\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration><ResourceTypeName Name=\"DataTable\"><VarDeclaration Name=\"Operation\" Type=\"WSTRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"READ/WRITE\"></VarDeclaration><VarDeclaration Name=\"Group\" Type=\"WSTRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration><VarDeclaration Name=\"Address\" Type=\"WSTRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration><VarDeclaration Name=\"Type\" Type=\"WSTRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"DO/DI/AI/AO\"></VarDeclaration><VarDeclaration Name=\"Arraysize\" Type=\"DINT\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration><VarDeclaration Name=\"VariableName\" Type=\"WSTRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration><VarDeclaration Name=\"Comment\" Type=\"WSTRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"1\" VarType=\"\" Comment=\"\"></VarDeclaration><VarDeclaration Name=\"Status\" Type=\"WSTRING\" ArraySize=\"1\" InitialValue=\"\" Option=\"\" Enabled=\"0\" VarType=\"OUTPUT\" Comment=\"\"></VarDeclaration></ResourceTypeName><ModuleTypeName></ModuleTypeName></DeviceType>";
            XmlDocument xmlDoc = new XmlDocument();
            xmlDoc.LoadXml(xml);
            string jsonText = JsonConvert.SerializeXmlNode(xmlDoc);
            Regex reg = new Regex("\"@([^ \"]*)\"\\s*:\\s*\"(([^ \"]+\\s*)*)\"");
            string strPatten = "\"$1\":\"$2\"";
            jsonText= reg.Replace(jsonText, strPatten);
            await Console.Out.WriteLineAsync(jsonText);
            return await ApiResult.Success("请求成功");
        }
    }

   
}
